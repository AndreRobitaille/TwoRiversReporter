<div class="card p-6">
  <h2 class="text-lg font-bold mb-4">Aliases</h2>
  <% if @aliases.any? %>
    <ul class="mb-4">
      <% @aliases.each do |a| %>
        <li class="mb-1"><%= a.name %></li>
      <% end %>
    </ul>
  <% else %>
    <p class="text-secondary mb-4">No aliases found.</p>
  <% end %>

  <h3 class="text-md font-bold mb-2">Add Alias</h3>
  <%= form_with url: create_alias_admin_topic_path(@topic), local: true, class: "flex gap-2" do |f| %>
    <%= f.text_field :name, class: "form-input w-full", placeholder: "New alias name" %>
    <%= f.submit "Add", class: "btn btn--secondary" %>
  <% end %>

  <h3 class="text-md font-bold mt-6 mb-2">Merge into another Topic</h3>
  <p class="text-sm text-secondary mb-2">Merging will move all aliases and agenda items to the target topic, then delete this topic.</p>
  <%= form_with url: merge_admin_topic_path(@topic), method: :post, local: true, class: "flex gap-2", data: { turbo_confirm: "Are you sure? This topic will be deleted." } do |f| %>
    <%= f.collection_select :target_topic_id, Topic.where.not(id: @topic.id).order(:name), :id, :name, { prompt: "Select target topic..." }, { class: "form-select w-full" } %>
    <%= f.submit "Merge", class: "btn btn--danger" %>
  <% end %>
</div>
